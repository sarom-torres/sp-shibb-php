<IfModule mod_ssl.c>

        <Directory /var/www/>
        Require all granted
        </Directory>

        <VirtualHost *:80>
                ServerName sp-example.rnp.br
                Redirect / https:/sp-example.rnp.br/
        </VirtualHost>


        <VirtualHost *:443>
                ServerName      sp-example.rnp.br
                ServerSignature Off


                SSLEngine               on

		SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem
		SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key


		ProxyPassMatch /Shibboleth.sso !
                <Location /secure>
 		        AuthType shibboleth
                        Require valid-user
                </Location>
		<Location /Shibboleth.sso>
			setHandler shib
		</Location>

                # Possible values include: debug, info, notice, warn, error, crit,
                # alert, emerg.
                LogLevel info
                ErrorLog /var/log/apache2/error.log
                CustomLog /var/log/apache2/sp-access-443.log combined


        </VirtualHost>
</IfModule>

